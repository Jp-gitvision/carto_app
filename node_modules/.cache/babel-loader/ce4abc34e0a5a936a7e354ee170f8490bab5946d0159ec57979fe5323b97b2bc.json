{"ast":null,"code":"var _jsxFileName = \"/Users/jujupeneau/Desktop/Wildcodeschool_Data_engineer/projet/Lama_dev_login/react_simple_copy/src/App.jsx\",\n  _s = $RefreshSig$();\n// Importation des composants nécessaires et des styles\nimport Navbar from \"./components/Navbar\";\nimport \"./App.css\";\nimport Home from \"./pages/Home\";\nimport Post from \"./pages/Post\";\nimport Login from \"./pages/Login\";\nimport Inscription from \"./pages/Inscription\";\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\"; // Importation des éléments de routing\nimport { useEffect, useState } from \"react\"; // Importation des hooks useEffect et useState de React\nimport { API } from \"./services/API\";\nimport PrivateRoute from './components/PrivateRoute'; // Importer PrivateRoute\n\n// Composant principal App\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  // Déclaration de l'état pour stocker l'utilisateur courant\n  const [user, setUser] = useState(null);\n\n  // useEffect pour charger les données utilisateur une fois au montage du composant\n  useEffect(() => {\n    // Fonction pour obtenir les données de l'utilisateur\n    const getUser = async () => {\n      try {\n        const response = await API.get(\"/auth/login/success\");\n        const responseData = response.data;\n        setUser(responseData.user);\n      } catch (error) {\n        console.log(\"Not authenticated\");\n      }\n    };\n    getUser();\n  }, []);\n\n  // Le JSX retourné par le composant App\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Routes, {\n        children: [\" \", /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          exact: true,\n          path: \"/\",\n          component: Home\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/inscription\",\n          element: user ? /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(Inscription, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 51\n          }, this) // Si l'utilisateur est connecté, redirige vers la page d'accueil, sinon affiche le composant d'inscription\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: user ? /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 51\n          }, this) // Si l'utilisateur est connecté, redirection vers l'accueil, sinon page de connexion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/post/:id\",\n          element: user ? /*#__PURE__*/_jsxDEV(Post, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 40\n          }, this) // Si connecté, accès à la page de post, sinon redirection vers la connexion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");\n_c = App;\nexport default App; // Exportation du composant App pour utilisation ailleurs dans l'application\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Navbar","Home","Post","Login","Inscription","BrowserRouter","Routes","Route","Navigate","useEffect","useState","API","PrivateRoute","jsxDEV","_jsxDEV","App","_s","user","setUser","getUser","response","get","responseData","data","error","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","exact","path","component","element","to","_c","$RefreshReg$"],"sources":["/Users/jujupeneau/Desktop/Wildcodeschool_Data_engineer/projet/Lama_dev_login/react_simple_copy/src/App.jsx"],"sourcesContent":["// Importation des composants nécessaires et des styles\nimport Navbar from \"./components/Navbar\";\nimport \"./App.css\";\nimport Home from \"./pages/Home\";\nimport Post from \"./pages/Post\";\nimport Login from \"./pages/Login\";\nimport Inscription from \"./pages/Inscription\";\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\"; // Importation des éléments de routing\nimport { useEffect, useState } from \"react\"; // Importation des hooks useEffect et useState de React\nimport { API } from \"./services/API\"; \nimport PrivateRoute from './components/PrivateRoute'; // Importer PrivateRoute\n\n// Composant principal App\nconst App = () => {\n  // Déclaration de l'état pour stocker l'utilisateur courant\n  const [user, setUser] = useState(null);\n\n  // useEffect pour charger les données utilisateur une fois au montage du composant\n  useEffect(() => {\n    // Fonction pour obtenir les données de l'utilisateur\n    const getUser = async () => {\n      try {\n        const response = await API.get(\"/auth/login/success\");\n        const responseData = response.data;\n        setUser(responseData.user);\n      } catch (error) {\n        console.log(\"Not authenticated\");\n      }\n    };\n\n    getUser();\n  }, []);\n\n  // Le JSX retourné par le composant App\n  return (\n    <BrowserRouter> {/* Composant pour le routage */}\n      <div>\n        <Navbar user={user} /> {/* Barre de navigation avec les informations de l'utilisateur */}\n        <Routes> {/* Définition des routes */}\n          <PrivateRoute exact path=\"/\" component={Home} /> {/* Route protégée pour la page d'accueil */}\n          <Route\n            path=\"/inscription\"\n            element={user ? <Navigate to=\"/\" /> : <Inscription />} // Si l'utilisateur est connecté, redirige vers la page d'accueil, sinon affiche le composant d'inscription\n          />\n          <Route\n            path=\"/login\"\n            element={user ? <Navigate to=\"/\" /> : <Login />} // Si l'utilisateur est connecté, redirection vers l'accueil, sinon page de connexion\n          />\n          <Route\n            path=\"/post/:id\"\n            element={user ? <Post /> : <Navigate to=\"/login\" />} // Si connecté, accès à la page de post, sinon redirection vers la connexion\n          />\n        </Routes>\n      </div>\n    </BrowserRouter>\n  );\n};\n\nexport default App; // Exportation du composant App pour utilisation ailleurs dans l'application\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}