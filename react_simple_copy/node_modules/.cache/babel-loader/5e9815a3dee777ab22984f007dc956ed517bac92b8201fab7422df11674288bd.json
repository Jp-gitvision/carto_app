{"ast":null,"code":"// Importation des composants nécessaires et des styles\nimport Navbar from\"./components/Navbar\";import\"./App.css\";import Home from\"./pages/Home\";import Post from\"./pages/Post\";import Login from\"./pages/Login\";import Inscription from\"./pages/Inscription\";import{BrowserRouter,Routes,Route,Navigate}from\"react-router-dom\";// Importation des éléments de routing\nimport{useEffect,useState}from\"react\";// Importation des hooks useEffect et useState de React\nimport{API}from\"./services/API\";// Composant principal App\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{// Déclaration de l'état pour stocker l'utilisateur courant\nconst[user,setUser]=useState(null);// useEffect pour charger les données utilisateur une fois au montage du composant\nuseEffect(()=>{// Fonction pour obtenir les données de l'utilisateur\nconst getUser=async resObject=>{const response=await API.get(\"/auth/login/success\");const responseData=response.data;setUser(responseData.user);};getUser();},[]);// Le JSX retourné par le composant App\nreturn/*#__PURE__*/_jsxs(BrowserRouter,{children:[\" \",/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{user:user}),\" \",/*#__PURE__*/_jsxs(Routes,{children:[\" \",/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),\" \",/*#__PURE__*/_jsx(Route,{path:\"/inscription\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/\"}):/*#__PURE__*/_jsx(Inscription,{})// Si l'utilisateur est connecté, redirige vers la page d'accueil, sinon affiche le composant d'inscription\n}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/\"}):/*#__PURE__*/_jsx(Login,{})// Si l'utilisateur est connecté, redirection vers l'accueil, sinon page de connexion\n}),/*#__PURE__*/_jsx(Route,{path:\"/post/:id\",element:user?/*#__PURE__*/_jsx(Post,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})// Si connecté, accès à la page de post, sinon redirection vers la connexion\n})]})]})]});};export default App;// Exportation du composant App pour utilisation ailleurs dans l'application","map":{"version":3,"names":["Navbar","Home","Post","Login","Inscription","BrowserRouter","Routes","Route","Navigate","useEffect","useState","API","jsx","_jsx","jsxs","_jsxs","App","user","setUser","getUser","resObject","response","get","responseData","data","children","path","element","to"],"sources":["/Users/jujupeneau/Desktop/Wildcodeschool_Data_engineer/projet/Lama_dev_login/react_simple_copy/src/App.jsx"],"sourcesContent":["// Importation des composants nécessaires et des styles\nimport Navbar from \"./components/Navbar\";\nimport \"./App.css\";\nimport Home from \"./pages/Home\";\nimport Post from \"./pages/Post\";\nimport Login from \"./pages/Login\";\nimport Inscription from \"./pages/Inscription\";\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\"; // Importation des éléments de routing\nimport { useEffect, useState } from \"react\"; // Importation des hooks useEffect et useState de React\nimport {API} from \"./services/API\"; \n\n\n// Composant principal App\nconst App = () => {\n  // Déclaration de l'état pour stocker l'utilisateur courant\n  const [user, setUser] = useState(null);\n\n  // useEffect pour charger les données utilisateur une fois au montage du composant\n  useEffect(() => {\n    // Fonction pour obtenir les données de l'utilisateur\n\n    const getUser = async(resObject) => {\n      const response = await API.get(\"/auth/login/success\");\n      const responseData = response.data;\n      setUser(responseData.user);\n    };\n\n    getUser();\n  }, []);\n\n  // Le JSX retourné par le composant App\n  return (\n    <BrowserRouter> {/* Composant pour le routage */}\n      <div>\n        <Navbar user={user} /> {/* Barre de navigation avec les informations de l'utilisateur */}\n        <Routes> {/* Définition des routes */}\n          <Route path=\"/\" element={<Home />} /> {/* Route pour la page d'accueil */}\n          <Route\n          path=\"/inscription\"\n          element={user ? <Navigate to=\"/\" /> : <Inscription />} // Si l'utilisateur est connecté, redirige vers la page d'accueil, sinon affiche le composant d'inscription\n          />\n          <Route\n            path=\"/login\"\n            element={user ? <Navigate to=\"/\" /> : <Login />} // Si l'utilisateur est connecté, redirection vers l'accueil, sinon page de connexion\n          />\n          <Route\n            path=\"/post/:id\"\n            element={user ? <Post /> : <Navigate to=\"/login\" />} // Si connecté, accès à la page de post, sinon redirection vers la connexion\n          />\n        </Routes>\n        \n      </div>\n    </BrowserRouter>\n  );\n};\n\nexport default App; // Exportation du composant App pour utilisation ailleurs dans l'application\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,MAAM,KAAM,qBAAqB,CACxC,MAAO,WAAW,CAClB,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAC7C,OAASC,aAAa,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CAAE;AAC3E,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAE;AAC7C,OAAQC,GAAG,KAAO,gBAAgB,CAGlC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CAChB;AACA,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAC,IAAI,CAAC,CAEtC;AACAD,SAAS,CAAC,IAAM,CACd;AAEA,KAAM,CAAAU,OAAO,CAAG,KAAM,CAAAC,SAAS,EAAK,CAClC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAV,GAAG,CAACW,GAAG,CAAC,qBAAqB,CAAC,CACrD,KAAM,CAAAC,YAAY,CAAGF,QAAQ,CAACG,IAAI,CAClCN,OAAO,CAACK,YAAY,CAACN,IAAI,CAAC,CAC5B,CAAC,CAEDE,OAAO,CAAC,CAAC,CACX,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,mBACEJ,KAAA,CAACV,aAAa,EAAAoB,QAAA,EAAC,GAAC,cACdV,KAAA,QAAAU,QAAA,eACEZ,IAAA,CAACb,MAAM,EAACiB,IAAI,CAAEA,IAAK,CAAE,CAAC,IAAC,cACvBF,KAAA,CAACT,MAAM,EAAAmB,QAAA,EAAC,GAAC,cACPZ,IAAA,CAACN,KAAK,EAACmB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEd,IAAA,CAACZ,IAAI,GAAE,CAAE,CAAE,CAAC,IAAC,cACtCY,IAAA,CAACN,KAAK,EACNmB,IAAI,CAAC,cAAc,CACnBC,OAAO,CAAEV,IAAI,cAAGJ,IAAA,CAACL,QAAQ,EAACoB,EAAE,CAAC,GAAG,CAAE,CAAC,cAAGf,IAAA,CAACT,WAAW,GAAE,CAAG;AAAA,CACtD,CAAC,cACFS,IAAA,CAACN,KAAK,EACJmB,IAAI,CAAC,QAAQ,CACbC,OAAO,CAAEV,IAAI,cAAGJ,IAAA,CAACL,QAAQ,EAACoB,EAAE,CAAC,GAAG,CAAE,CAAC,cAAGf,IAAA,CAACV,KAAK,GAAE,CAAG;AAAA,CAClD,CAAC,cACFU,IAAA,CAACN,KAAK,EACJmB,IAAI,CAAC,WAAW,CAChBC,OAAO,CAAEV,IAAI,cAAGJ,IAAA,CAACX,IAAI,GAAE,CAAC,cAAGW,IAAA,CAACL,QAAQ,EAACoB,EAAE,CAAC,QAAQ,CAAE,CAAG;AAAA,CACtD,CAAC,EACI,CAAC,EAEN,CAAC,EACO,CAAC,CAEpB,CAAC,CAED,cAAe,CAAAZ,GAAG,CAAE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}