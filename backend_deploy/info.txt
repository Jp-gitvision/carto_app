cd backend
node index.js

pour la carte : 

npm install csv-parser



Index.js :

const fs = require('fs');
const csv = require('csv-parser'); // Vous devriez installer ce package

app.get('/api/population', (req, res) => {
  const results = [];
  fs.createReadStream('/Users/jujupeneau/Desktop/Wildcodeschool_Data_engineer/projet/Lama_dev_login/my-react-passport-app/data/age_insee_with_coordinates_cleaned.csv') // Remplacez par le chemin réel de votre fichier CSV
    .pipe(csv())
    .on('data', (data) => {
      // Convertir les colonnes de type object en int, en supposant qu'elles sont numériques et sans virgules
      for (const key of Object.keys(data)) {
        if (key.startsWith('F') || key.startsWith('H')) {
          data[key] = parseInt(data[key], 10) || 0; // Convertit en int, ou 0 si la conversion échoue
        }
      }
      results.push(data);
    })
    .on('end', () => {
      res.json(results);
    });
});

npm install papaparse --save à la racine du projet; c'est à dire à LAMA_DEV_LOGIN